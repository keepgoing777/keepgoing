<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kh.upload.mapper.UserMapper">
  <resultMap id="userMap" type="user">
     <id column="id" property="id" />
     <result column="pwd" property="pwd" />
     <result column="name" property="name" />
     <result column="role" property="role" />
  </resultMap>
 
  <insert id="register" parameterType="User">
      INSERT INTO user
      VALUES(#{id}, #{pwd}, #{name}, #{role})
  </insert>
 
 <!--기존 loging 방법
   <select id = "login" parameterType = "Member" resultType="Member">
   SELECT * FROM member
   WHERE id = #{id} AND pwd = #{pwd}
  </select> 
 -->
  
 <!--Security loging 방법-->
  <select id="login" parameterType="String" resultType="User">
      SELECT * FROM user WEHRE id=#{id}
  </select>
  <select id="selectAll" parameterType="User" resultType="User">
      SELECT * FROM user
  </select>

  <select id="select" parameterType="String" resultType="User">
      SELECT * FROM user WHERE no=#{id}
  </select>
  
  <update id="update" parameterType="User">
      UPDATE user
      SET id=#{pwd}, name=#{name}, role=#{role}
      WEHRE id=#{id}
  </update>
  
  <delete id="delete" parameterType="int">
      DELETE FROM user
      WHERE id=#{id}
  </delete>
  
</mapper>